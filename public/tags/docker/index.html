<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Ronny Trommer">
        <meta name="description" content="Private blog around tech and live.">
        <meta name="keywords" content="blog,personal,responsive,search,font awesome,pages,posts,multilingual,highlight.js,syntax highlighting,premium,shortcuts">
        <meta name="generator" content="Hugo 0.55.4" />
        <title> docker | no42</title>
        <meta name="description" content="docker - Private blog around tech and live.">
        <meta itemprop="name" content="docker">
        <meta itemprop="description" content="docker - Private blog around tech and live.">
        <meta property="og:title" content="docker">
        <meta property="og:description" content="docker - Private blog around tech and live.">
        <meta property="og:image" content="https://www.gravatar.com/avatar/7f19843706ee328d5b1dfbf9b2a73a73?size=200">
        <meta property="og:url" content="https://blog.no42.org/tags/docker/">
        <meta property="og:site_name" content="no42"><meta property="og:type" content="website">
        <link rel="icon" type="image/png" href="https://blog.no42.org/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="https://blog.no42.org/favicon-16x16.png" sizes="16x16">

	
	  <link href="https://blog.no42.org/tags/docker/index.xml" rel="alternate" type="application/rss+xml" title="no42" />
	  <link href="https://blog.no42.org/tags/docker/index.xml" rel="feed" type="application/rss+xml" title="no42" />
	

        
        
        
        
        <link rel="stylesheet" href="https://blog.no42.org/sass/combined.min.6e8351b3ea65d753e797df34276a01509dc8ac2d5d2f5d5b13934de1e37d5d44.css">

        

        
            
        
    </head>
    <body class="bilberry-hugo-theme">
        
<nav>

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="/page/projects/">Projects</a></li>
                
            
                
                    <li><a href="/page/about/">About Me</a></li>
                
            
                
                    <li><a href="/page/impressum/">Impressum</a></li>
                
            
                
                    <li><a href="/page/privacy/">Privacy</a></li>
                
            
        </ul>

        
    </div>
</nav>


        <header>
    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                
                    <img src="/images/gravatar.jpg" alt="">
                

                <span class="overlay"><i class="fa fa-home"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title"><a href="/">no42</a></h3>
            
                <span class="subtitle">... search for answer?</span>
            
        </div>

    

        
        <div class="toggler">
        
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
    </div>
</header>


        <div class="main container">
            
    
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/docker-build-cache-invalidation/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="/code/docker-build-cache-invalidation/">
            
                <img src="/code/docker-build-cache-invalidation/featuredImage_hue6e896227c7962fca53ed08de84bc25d_573805_700x350_fill_q95_box_smart1.jpg" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="/code/docker-build-cache-invalidation/">Docker build and cache invalidation</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2019-05-15</span>
            
        

        
            <span class="readingTime">3 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Right now I&rsquo;m working with my work mates @opennms integrating the docker image building in our CI/CD environment. We build our container image based on CentOS and we noticed the caching doesn&rsquo;t work for ${reasons}.
Running a docker build -t myimage . ended up always in installing packages from the official yum repositories even we haven&rsquo;t changed anything in the Dockerfile.
To understand things better, I went back to drawing board and started with a simple example and rebuilding things step by step to understand when gets the docker build cache unnecessarily invalidated.

        
            <a href="/code/docker-build-cache-invalidation/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/caching">caching</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/docker-java-signals-pid1/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="/code/docker-java-signals-pid1/">
            
                <img src="/code/docker-java-signals-pid1/featuredImage_hufe540f53cc4c4539bf92329655e6bb80_252902_700x350_fill_q95_box_smart1.jpg" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="/code/docker-java-signals-pid1/">Docker, Java, Signals and Pid 1</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2019-02-20</span>
            
        

        
            <span class="readingTime">9 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Running a Java application in a container seems to be very easy. The devil is in the details and I want to shed some light on the PID 1 problem when you run Java applications in containers. In a general running applications in containers should not have any state so you just don&rsquo;t care, but reality is different forces you to have to.
Signals are used to a running process to behave in a certain ways.

        
            <a href="/code/docker-java-signals-pid1/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/java">java</a>
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/signals">signals</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/horizon-radius-authentication/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="/code/horizon-radius-authentication/">
            
                <img src="/code/horizon-radius-authentication/featuredImage_hu268547dfd1af9a6ae087e394e59e2057_565600_700x350_fill_q95_box_smart1.jpg" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="/code/horizon-radius-authentication/">Authenticate OpenNMS Horizon with FreeRADIUS</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-07-22</span>
            
        

        
            <span class="readingTime">2 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Centralized authentication is a core service as soon you have a network with more than 3 computers. This article is about how to authenticate a OpenNMS Horizon 22.0.2 using RADIUS provided by a FreeRADIUS service.
In this example the FreeRADIUS server is configured to provide 3 users. A dictionary is configured which returns 2 roles, ROLE_USER and ROLE_ADMIN which can be used to decide which security role is assigned in the OpenNMS Horizon Web UI.

        
            <a href="/code/horizon-radius-authentication/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/opennms">opennms</a>
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/radius">radius</a>
                
                    <a href="/tags/freeradius">freeradius</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/horizon-ldap-authentication/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="/code/horizon-ldap-authentication/">
            
                <img src="/code/horizon-ldap-authentication/featuredImage_hud7c8cc3b06ee193c134658b23a0bf1e7_766324_700x350_fill_q95_box_smart1_2.png" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="/code/horizon-ldap-authentication/">Authenticate OpenNMS Horizon with Active Directory on Windows Server 2016</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-07-16</span>
            
        

        
            <span class="readingTime">3 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Centralized authentication is a core service as soon you have a network with more than 3 computers. This article is about how to authenticate a OpenNMS Horizon 22.0.1 against an Active Directory provided on a Microsoft Windows Server 2016. I&rsquo;ll focus here on the Active Directory and Spring configuration parts, securing the connection with LDAPS and using self-signed certificates in Java is another topic and not covered here.
In this example the domain is called labmonkeys.

        
            <a href="/code/horizon-ldap-authentication/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/opennms">opennms</a>
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/microsoft-windows">microsoft windows</a>
                
                    <a href="/tags/active-directory">active directory</a>
                
                    <a href="/tags/ldap">ldap</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/build-opennms-docker/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="/code/build-opennms-docker/">
            
                <img src="/code/build-opennms-docker/featuredImage_hu4056c5a21a2db14222ae75293e1861b1_555186_700x350_fill_q95_box_smart1_2.png" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="/code/build-opennms-docker/">Build OpenNMS with Docker</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-07-14</span>
            
        

        
            <span class="readingTime">4 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Being able to compiling an Open Source project is important. You can change the code, so you should also able to build it.
Why is there a dedicated Docker image for the build environment? The dependencies running a pre-build OpenNMS Horizon distribution and compiling from source are different. To build OpenNMS Horizon you need Apache Maven and to compile JICMP, JRRD you need a C compiler environment. This is nothing you want to carry when you just want to run OpenNMS Horizon.

        
            <a href="/code/build-opennms-docker/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/opennms">opennms</a>
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/cicd">cicd</a>
                
                    <a href="/tags/java">java</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/snmp-scanning/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/code/snmp-scanning/">Scanning for SNMP communities</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-03-02</span>
            
        

        
            <span class="readingTime">2 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Adding devices into monitoring system is easy. Getting all the right SNMP communities for them is harder. People don&rsquo;t give you the right community string or forget to open firewall ports.
If you have to test a lot of IP&rsquo;s against various IP addresses you can use nmap and a community list file as an input.
Be aware you talk about permission to run this test otherwise somebody can get angry when you try to brute-force community strings against their devices.

        
            <a href="/code/snmp-scanning/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/snmp">snmp</a>
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/monitoring">monitoring</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/snmp-clean-log/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/code/snmp-clean-log/">Cleaner log with Docker and SNMP</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2017-05-19</span>
            
        

        
            <span class="readingTime">1 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        Centralizing logs is important as soon you have more than 2 servers. In my environment the bare metal is monitored with Net-SNMP and my services are deployed as containers with Docker. All system logs are sent to a Graylog2 instance and I quickly noticed a few ugly entries caused by snmpd.
Cannot statfs /run/docker/netns/...: Permission denied  You will notice a few of them. First approach try to increase the logging level in /etc/default/snmpd from SNMP daemon with

        
            <a href="/code/snmp-clean-log/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/snmp">snmp</a>
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/monitoring">monitoring</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/article/monitoring-devops/">
    <i class="fa fa-fw fa-pencil"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/article/monitoring-devops/">Monitoring DevOps and the Status Quo</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2017-03-09</span>
            
        

        
            <span class="readingTime">5 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        As most of us noticed a few companies changed our perspective how to develop software and deploy them as a service. There are quite a few changes between selling every year a box with 10 CD&rsquo;s and develop and deliver your software as a service. This article is a collection of thoughts and ideas I had and wanted to be written.
Who cares about a version number? User give a shit about version numbers anymore, all what matters needs to be focused on the user.

        
            <a href="/article/monitoring-devops/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/devops">devops</a>
                
                    <a href="/tags/monitoring">monitoring</a>
                
                    <a href="/tags/docker">docker</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="/code/docker-shell-corner-cases/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/code/docker-shell-corner-cases/">Docker Shell Corner Cases</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2017-01-18</span>
            
        

        
            <span class="readingTime">2 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        During work building Docker executables, I ran in an interesting corner case. Fortunately the Docker IRC channel helped me to investigate with special credits to Ravensoul.
When you build a container as an executable you can use the ENTRYPOINT for your binary to execute and CMD as a default overwritable argument. In most cases the CMD is the --help argument to provide a useful default behavior in case you just run the container without anything specified.

        
            <a href="/code/docker-shell-corner-cases/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/linux">linux</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                
<a class="bubble" href="/video/docker-parallel-build/">
    <i class="fa fa-fw fa-video-camera"></i>
</a>

<article class="video">
    


    
        <div class="responsive-video youtube">
            <iframe src="https://www.youtube-nocookie.com/embed/N3pPjYxLvkY?rel=0" frameborder="0" allowfullscreen></iframe>
        </div>
    
    

    <div class="content">
    <h3><a href="/video/docker-parallel-build/">Docker and parallel builds</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2016-07-09</span>
            
        

        
            <span class="readingTime">1 min read</span>
        

        

        
            <span class="author"><a href="/author/ronny-trommer">Ronny Trommer</a></span>
        
    </div>

    
        

<p>I was listening to an interesting talk from <a href="https://twitter.com/rhein_wein">Laura Frank</a> from <a href="https://codeship.com">Codeship</a>.
In case you build or maintain a Continuous {Integration, Delivery} environment this definitely worth watching and they describe how they used <a href="https://linuxcontainers.org">LXC</a> and now <a href="https://www.docker.com">Docker</a> to build their CI/CD infrastructure.</p>

<h3 id="tl-dr">TL;DR</h3>

<p>Interesting to me, the description in the <a href="https://en.wikipedia.org/wiki/YAML">YAML</a> file reminded me quickly on a course I needed to pass during my study in parallel computing.
The exam had one section where you had to describe parallel and sequential processes with some high level constructs.
You had to describe a given time sequence graph for processes on n processors with the primitives <code>BEGIN/END</code> for sequential parts and <code>COBEGIN/COEND</code> for parallel processes.</p>

    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/docker">docker</a>
                
                    <a href="/tags/cicd">cicd</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    

    
    <div class="paginator">
        

        
    </div>



        </div>

        
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
                <ul>
                
                    <li>
                        <a href="/code/docker-build-cache-invalidation/">Docker build and cache invalidation</a>
                    </li>
                
                    <li>
                        <a href="/code/docker-java-signals-pid1/">Docker, Java, Signals and Pid 1</a>
                    </li>
                
                    <li>
                        <a href="/code/ssl-and-java/">SSL and Java</a>
                    </li>
                
                    <li>
                        <a href="/article/opennms-notify-signal/">Send notifications with Signal</a>
                    </li>
                
                    <li>
                        <a href="/article/theming-applications/">Everyone can change it and why you shouldn&#39;t</a>
                    </li>
                
                    <li>
                        <a href="/article/guidance-to-survive-monitoring/">Guidance to Survive Monitoring</a>
                    </li>
                
                    <li>
                        <a href="/quote/two-hard-things/">Two hard things</a>
                    </li>
                
                </ul>
        </div>
        

        

        <div class="right">
            
            <div class="external-profiles">
                <strong>Social media</strong>

                
                
                    <a href="https://twitter.com/indigo423" target="_blank"><i class="fa fa-twitter-adblock-proof"></i></a>
                
                
                
                    <a href="https://www.xing.com/profile/Ronny_Trommer" target="_blank"><i class="fa fa-xing"></i></a>
                
                
                
                
                
                
                
                    <a href="https://github.com/indigo423" target="_blank"><i class="fa fa-github"></i></a>
                
                
                    <a href="https://www.linkedin.com/in/ronnytrommer/" target="_blank"><i class="fa fa-linkedin"></i></a>
                
            </div>
            

            <div class="languages">
                    <strong>Other languages</strong>
                    
                        
                            <a href="/en" class="active">en</a>
                        
                    
                        
                            <a href="/de">de</a>
                        
                    
                </div>
            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://github.com/indigo423" target="_blank">
                &copy;
                
                    2019
                
                by Ronny Trommer
            </a>
	    -
		<a href="https://blog.no42.org/tags/docker/index.xml">RSS</a>
        </div>
        <div class="author">
            <a href="https://github.com/Lednerb/bilberry-hugo-theme" target="_blank">Bilberry Hugo Theme</a>
        </div>
    </div>
</div>


        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-73787628-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


        

        
        
        <script type="text/javascript" src="https://blog.no42.org/js/externalDependencies.39c47e10e241eae2947b3fe21809c572.js" integrity="md5-OcR&#43;EOJB6uKUez/iGAnFcg=="></script>

        
        
        <script type="text/javascript" src="https://blog.no42.org/js/theme.ff50ae6dc1bfc220b23bf69dbb41b54e.js" integrity="md5-/1CubcG/wiCyO/adu0G1Tg=="></script>

        <script>
            $(".moment").each(function() {
                $(this).text(
                    moment( $(this).text() )
                        .locale( "en" )
                        .format('LL')
                );
            });

            $(".footnote-return sup").html("");
        </script>

        
            
        

        


    </body>
</html>
